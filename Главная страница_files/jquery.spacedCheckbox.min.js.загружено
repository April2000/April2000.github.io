(function(a){a.fn.spacedCheckbox=function(b){b&&null!==b||(b={change:function(){return!1}});return this.each(function(){function d(){var i;'true'==g.attr('data-checked')?(g.attr('data-checked','false'),i=!1):(g.attr('data-checked','true'),i=!0),b.change(i),f.prop('checked',i),f.triggerHandler('change')}var f=a(this);if(f.is('input[type="checkbox"]')){f.wrap('<div class="spacedCheckbox"></div>'),f.css('visibility','hidden');var g=f.parent();if(f.prop('checked')&&g.attr('data-checked','true'),g.parent().is('label')){var h=g.parent();h.on('click',function(i){i.preventDefault(),g.triggerHandler('click')})}g.on('click',function(i){a(i.target).is('div.spacedCheckbox')&&(i.stopPropagation(),i.preventDefault(),d())})}})}})(jQuery);