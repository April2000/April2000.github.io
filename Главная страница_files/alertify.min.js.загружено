(function(a,b){"use strict";var d,c=a.document;d=function(){var j,l,m,n,o,p,q,r,s,u,v,w,e={},f={},g=!1,h={ENTER:13,ESC:27,SPACE:32},i=[];return f={buttons:{holder:"<nav class=\"alertify-buttons\">{{buttons}}</nav>",submit:"<button type=\"submit\" class=\"alertify-button alertify-button-ok\" id=\"alertify-ok\">{{ok}}</button>",ok:"<a href=\"#\" class=\"alertify-button alertify-button-ok\" id=\"alertify-ok\">{{ok}}</a>",cancel:"<a href=\"#\" class=\"alertify-button alertify-button-cancel\" id=\"alertify-cancel\">{{cancel}}</a>"},input:"<div class=\"alertify-text-wrapper\"><input type=\"text\" class=\"alertify-text\" id=\"alertify-text\"></div>",message:"<p class=\"alertify-message\">{{message}}</p>",log:"<article class=\"alertify-log{{class}}\">{{message}}</article>"},w=function(){var x,y=c.createElement("fakeelement"),z={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"};for(x in z)if(y.style[x]!==b)return z[x]},j=function(x){return c.getElementById(x)},e={labels:{ok:"OK",cancel:"Cancel"},delay:5e3,buttonReverse:!1,buttonFocus:"ok",transition:b,addListeners:function(x){var D,E,F,G,H,y="undefined"!=typeof m,z="undefined"!=typeof l,A="undefined"!=typeof v,B="",C=this;D=function(I){return"undefined"!=typeof I.preventDefault&&I.preventDefault(),F(I),"undefined"!=typeof v&&(B=v.value),"function"==typeof x&&("undefined"==typeof v?x(!0):x(!0,B)),!1},E=function(I){return"undefined"!=typeof I.preventDefault&&I.preventDefault(),F(I),"function"==typeof x&&x(!1),!1},F=function(){C.hide(),C.unbind(c.body,"keyup",G),C.unbind(n,"focus",H),A&&C.unbind(u,"submit",D),y&&C.unbind(m,"click",D),z&&C.unbind(l,"click",E)},G=function(I){var J=I.keyCode;J!==h.SPACE||A||D(I),J===h.ESC&&z&&E(I)},H=function(){A?v.focus():z?l.focus():m.focus()},this.bind(n,"focus",H),y&&this.bind(m,"click",D),z&&this.bind(l,"click",E),this.bind(c.body,"keyup",G),A&&this.bind(u,"submit",D),"undefined"==typeof this.transition&&this.setFocus()},bind:function(x,y,z){"function"==typeof x.addEventListener?x.addEventListener(y,z,!1):x.attachEvent&&x.attachEvent("on"+y,z)},handleErrors:function(){if("undefined"!=typeof a.onerror){var x=this;return a.onerror=function(y,z,A){x.error("["+y+" on line "+A+" of "+z+"]",0)},!0}return!1},appendButtons:function(x,y){return this.buttonReverse?y+x:x+y},build:function(x){var y="",z=x.type,A=x.message,B=x.cssClass||"";switch(y+="<div class=\"alertify-dialog\">","none"===e.buttonFocus&&(y+="<a href=\"#\" id=\"alertify-noneFocus\" class=\"alertify-hidden\"></a>"),"prompt"===z&&(y+="<form id=\"alertify-form\">"),y+="<article class=\"alertify-inner\">",y+=f.message.replace("{{message}}",A),"prompt"===z&&(y+=f.input),y+=f.buttons.holder,y+="</article>","prompt"===z&&(y+="</form>"),y+="<a id=\"alertify-resetFocus\" class=\"alertify-resetFocus\" href=\"#\">Reset Focus</a>",y+="</div>",z){case"confirm":y=y.replace("{{buttons}}",this.appendButtons(f.buttons.cancel,f.buttons.ok)),y=y.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"prompt":y=y.replace("{{buttons}}",this.appendButtons(f.buttons.cancel,f.buttons.submit)),y=y.replace("{{ok}}",this.labels.ok).replace("{{cancel}}",this.labels.cancel);break;case"alert":y=y.replace("{{buttons}}",f.buttons.ok),y=y.replace("{{ok}}",this.labels.ok);break;default:}return r.className="alertify alertify-show alertify-"+z+" "+B,q.className="alertify-cover",y},close:function(x,y){var B,C,z=y&&!isNaN(y)?+y:this.delay,A=this;return this.bind(x,"click",function(){B(x)}),C=function(D){D.stopPropagation(),A.unbind(this,A.transition,C),s.removeChild(this),s.hasChildNodes()||(s.className+=" alertify-logs-hidden")},B=function(D){"undefined"!=typeof D&&D.parentNode===s&&("undefined"==typeof A.transition?(s.removeChild(D),!s.hasChildNodes()&&(s.className+=" alertify-logs-hidden")):(A.bind(D,A.transition,C),D.className+=" alertify-log-hide"))},0===y?b:void setTimeout(function(){B(x)},z)},dialog:function(x,y,z,A,B){p=c.activeElement;var C=function(){r&&null!==r.scrollTop||C()};if("string"!=typeof x)throw new Error("message must be a string");if("string"!=typeof y)throw new Error("type must be a string");if("undefined"!=typeof z&&"function"!=typeof z)throw new Error("fn must be a function");return"function"==typeof this.init&&(this.init(),C()),i.push({type:y,message:x,callback:z,placeholder:A,cssClass:B}),g||this.setup(),this},extend:function(x){if("string"!=typeof x)throw new Error("extend method must have exactly one paramter");return function(y,z){return this.log(y,x,z),this}},hide:function(){var x,y=this;i.splice(0,1),0<i.length?this.setup():(g=!1,x=function(z){z.stopPropagation(),r.className+=" alertify-isHidden",y.unbind(r,y.transition,x)},"undefined"==typeof this.transition?r.className="alertify alertify-hide alertify-hidden alertify-isHidden":(this.bind(r,this.transition,x),r.className="alertify alertify-hide alertify-hidden"),q.className="alertify-cover alertify-cover-hidden",p.focus())},init:function(){c.createElement("nav"),c.createElement("article"),c.createElement("section"),q=c.createElement("div"),q.setAttribute("id","alertify-cover"),q.className="alertify-cover alertify-cover-hidden",c.body.appendChild(q),r=c.createElement("section"),r.setAttribute("id","alertify"),r.className="alertify alertify-hidden",c.body.appendChild(r),s=c.createElement("section"),s.setAttribute("id","alertify-logs"),s.className="alertify-logs alertify-logs-hidden",c.body.appendChild(s),c.body.setAttribute("tabindex","0"),this.transition=w(),delete this.init},log:function(x,y,z){var A=function(){s&&null!==s.scrollTop||A()};return"function"==typeof this.init&&(this.init(),A()),s.className="alertify-logs",this.notify(x,y,z),this},notify:function(x,y,z){var A=c.createElement("article");A.className="alertify-log"+("string"==typeof y&&""!==y?" alertify-log-"+y:""),A.innerHTML=x,s.insertBefore(A,s.firstChild),setTimeout(function(){A.className+=" alertify-log-show"},50),this.close(A,z)},set:function(x){if("object"!=typeof x&&x instanceof Array)throw new Error("args must be an object");for(var y in x)x.hasOwnProperty(y)&&(this[y]=x[y])},setFocus:function(){v?(v.focus(),v.select()):o.focus()},setup:function(){var z,x=i[0],y=this;g=!0,z=function(A){A.stopPropagation(),y.setFocus(),y.unbind(r,y.transition,z)},"undefined"!=typeof this.transition&&this.bind(r,this.transition,z),r.innerHTML=this.build(x),n=j("alertify-resetFocus"),m=j("alertify-ok")||b,l=j("alertify-cancel")||b,o="cancel"===e.buttonFocus?l:"none"===e.buttonFocus?j("alertify-noneFocus"):m,v=j("alertify-text")||b,u=j("alertify-form")||b,"string"==typeof x.placeholder&&""!==x.placeholder&&(v.value=x.placeholder),this.addListeners(x.callback)},unbind:function(x,y,z){"function"==typeof x.removeEventListener?x.removeEventListener(y,z,!1):x.detachEvent&&x.detachEvent("on"+y,z)}},{alert:function(x,y,z){return e.dialog(x,"alert",y,"",z),this},confirm:function(x,y,z){return e.dialog(x,"confirm",y,"",z),this},extend:e.extend,init:e.init,log:function(x,y,z){return e.log(x,y,z),this},prompt:function(x,y,z,A){return e.dialog(x,"prompt",y,z,A),this},success:function(x,y){return e.log(x,"success",y),this},error:function(x,y){return e.log(x,"error",y),this},set:function(x){e.set(x)},labels:e.labels,debug:e.handleErrors}},"function"==typeof define?define([],function(){return new d}):"undefined"==typeof a.alertify&&(a.alertify=new d)})(window);